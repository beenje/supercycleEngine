record(fanout, "$(P)$(R=)Trig0-FOut_") {
    field(DESC, "Seq Selector Fanout")
    field(SCAN, "Passive")
    field(SELM, "All")

    field(LNK0, "$(P)$(R=)EngineCycle_")
    field(LNK1, "$(P)$(R=)Trig-Cnt_")
    field(LNK2, "$(P)$(R=)Seq1-Tst-aSubBuf_.PROC")
    field(LNK3, "$(P)$(R=)Seq1-Evt-aSubBuf_.PROC")
    field(LNK4, "$(P)$(R=)Seq1-Ctrl-FOut_.PROC")
    field(LNK5, "$(P)$(R=)Trig-IO-FOut_.PROC")
    field(LNK6, "$(P)$(R=)COffset-Seq_")
}

record(fanout, "$(P)$(R=)Trig1-FOut_") {
    field(DESC, "Seq Selector Fanout")
    field(SCAN, "Passive")
    field(SELM, "All")

    field(LNK0, "$(P)$(R=)EngineCycle_")
    field(LNK1, "$(P)$(R=)Trig-Cnt_")
    field(LNK2, "$(P)$(R=)Seq0-Tst-aSubBuf_.PROC")
    field(LNK3, "$(P)$(R=)Seq0-Evt-aSubBuf_.PROC")
    field(LNK4, "$(P)$(R=)Seq0-Ctrl-FOut_.PROC")
    field(LNK5, "$(P)$(R=)Trig-IO-FOut_.PROC")
    field(LNK6, "$(P)$(R=)COffset-Seq_")
}

record(calcout, "$(P)$(R=)Trig-Cnt_")
{
    field(DESC, "Trigger Counter")
    field(CALC, "A+B")
    field(SCAN, "Passive")
    field(INPA, "$(P)$(R=)Tri0_")
    field(INPB, "$(P)$(R=)Tri1_")
}

record(aSub, "$(P)$(R=)EngineCycle_") {
    field(INAM, "initEngine")
    field(SNAM, "ioEngine")
    field(SCAN, "Passive")
    #alias("$(P)$(R=)IdCycle")
    # Outputs
    field(FTVA, "ULONG")
    field(NOVA, "2046")
    field(FTVB, "ULONG")
    field(NOVB, "2046")
    field(FTVC, "ULONG")
    field(NOVC, "2046")
    field(FTVD, "ULONG")
    field(NOVD, "2046")
    field(FTVE, "ULONG")
    field(NOVE, "2046")

    # Dbuf
    #field(OUTB, "$ (PG)dbus-send-u32")
    # Seq{0,1}
    #field(OUTC, "$ (PG)SoftSeq0-Timestamp-SP")
    #field(OUTD, "$ (PG)SoftSeq0-EvtCode-SP")

    #field(FLNK, "$(P)$(R=)Trig-FOut_")
}

record(seq, "$(P)$(R=)COffset-Seq_") {
    field(DESC, "Cycle Offset")
    field(SELM, "All")
    field(PINI, "RUNNING")
    field(SCAN, "Passive")
    #field(DOL1, "")
    field(DO1, "1")
    field(DLY1, "0.03")
    field(LNK1, "$(P)$(R=)DBuf-Send-aSubBuf_.INPU CA")
    field(FLNK, "$(P)$(R=)DBuf-Send-aSubBuf_.PROC")
    #field(TPRO, "1")
}

record(subArray, "$(P)$(R=)Period-subA_") {
    field(DTYP, "Soft Channel")
    field(INP, "$(P)$(R=)EngineCycle_.VALA")
    field(INDX, "2")
    field(NELM, "1") # "2046")
    field(MALM, "3") # "2046")
    field(FTVL, "ULONG")
}
